<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>G.I.S.A. – Portale Ufficiale</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="top">
  <div class="top-inner">
    <div class="brand">
      <span class="pill"><span class="dot"></span> GLOBAL INTELLIGENCE & SECURITY AGENCY</span>
      <h1 class="h1">G.I.S.A.</h1>
    </div>

    <nav class="nav">
      <a class="active" href="index.html">VERIFICA</a>
      <a href="info.html">INFORMAZIONI</a>
      <a href="manuale-operatori.html">MANUALE OPERATORI</a>
      <a href="galleria.html">FOTOGRAFIE</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <section class="hero">
    <div class="badge">Portale dimostrativo • verifica minima tramite ID</div>
    <p class="subtitle">Inserisci il codice ID riportato sul tesserino per visualizzare lo stato e i dati minimi associati.</p>
  </section>

  <h2 class="section-title">VERIFICA IDENTITÀ</h2>

  <div class="grid-2">
    <div class="card">
      <div class="badge">IN ATTESA DI VERIFICA</div>

      <label for="id">ID TESSERINO</label>
      <input id="id" placeholder="Es. 15FE012414" autocomplete="off" />

      <label for="cognome">COGNOME (opzionale)</label>
      <input id="cognome" placeholder="Es. Macrì" autocomplete="off" />

      <button class="btn" id="btn">VERIFICA IDENTITÀ</button>

      <div id="out" class="result" style="display:none;"></div>

      <p class="small" style="margin-top:12px;">
        Questo strumento ha finalità dimostrativa e di verifica minima del documento presentato e non sostituisce in alcun modo i controlli delle autorità competenti.
      </p>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px; color:var(--gold); letter-spacing:.08em;">TESSERINO (SENZA QR / FOTO)</h3>
      <p class="small" style="margin-top:0;">
        Se vuoi mostrare l’immagine del tesserino “pulito”, caricala come <b>/uploads/tesserino.png</b>.
      </p>

      <div class="gitem" style="margin-top:10px;">
        <img src="uploads/tesserino.png" alt="Tesserino G.I.S.A. (demo)" onerror="this.style.display='none'; this.parentElement.querySelector('.fallback').style.display='block';">
        <div class="fallback gcap" style="display:none;">
          <h3>Nessuna immagine trovata</h3>
          <p>Carica <b>uploads/tesserino.png</b> per mostrarla qui.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    Indirizzo del portale: https://gisa-identity.github.io/gisa-verifica-identita/
  </div>
</main>

<script>
/* Database demo (puoi ampliarlo quando vuoi) */
const DB = {
  "15FE012414": { stato:"VALIDO (DEMO)", nome:"Operatore", cognome:"Esempio", ruolo:"Operatore di Sicurezza", note:"Record dimostrativo." }
};

const $ = (id) => document.getElementById(id);

$("btn").addEventListener("click", () => {
  const id = $("id").value.trim();
  const cog = $("cognome").value.trim().toLowerCase();

  const out = $("out");
  out.style.display = "block";

  if(!id){
    out.innerHTML = "Inserisci un <b>ID</b> per procedere.";
    return;
  }

  const rec = DB[id];
  if(!rec){
    out.innerHTML = "Esito: <b>NON TROVATO</b> — ID non presente nel database dimostrativo.";
    return;
  }

  if(cog && rec.cognome && rec.cognome.toLowerCase() !== cog){
    out.innerHTML = "Esito: <b>DATI NON COINCIDENTI</b> — cognome inserito diverso dal record.";
    return;
  }

  out.innerHTML =
    "Esito: <b>" + rec.stato + "</b><br>" +
    "Nome: <b>" + rec.nome + " " + rec.cognome + "</b><br>" +
    "Ruolo: <b>" + rec.ruolo + "</b><br>" +
    "Note: " + rec.note;
});
</script>

</body>
</html>
